{% block content %}
{% load static %}
{% include 'header.html' %}
<br>
<br>
<br>
<br>
<style>
  .table-view {
  width: 100%;
  margin: 20px;
}

.table-view table {
  width: 100%;
  border-collapse: collapse;
}

.table-view th, .table-view td {
  padding: 10px;
  text-align: left;
  border: 1px solid #ddd;
}

.table-view th {
  background-color: #f2f2f2;
}

.table-view tr:nth-child(even) {
  background-color: #f9f9f9;
}

.table-view tr:hover {
  background-color: #e5e5e5;
}

</style>
<div class="table-view">
  <div class="container">
  <h2>USER DETAILS</h2>
  <table id="tblCustomers1">

<thead>
    <tr>
      <th>Name</th>
      <th>Email</th>
      <!-- <th>Password</th> -->
      <th>Phone no</th>
      <th>Address</th>
    </tr>
  </thead>
    <tbody>
    {% for i in user %}
    <tr>
      <td>{{ i.name }}</td>
      <td>{{ i.email }}</td>
      <!-- <td>{{ i.password }}</td> -->
      <td>{{ i.phone }}</td>
      <td>{{ i.address }}</td>
    </tr>
    {% endfor %}
  </tbody>
  </table>
  <br><br>
  <center><input type="button" class="btn btn-secondary" id="btnExport" value="Report" onclick="Export()" /></center>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.22/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
    <script type="text/javascript">
        function Export() {
            html2canvas(document.getElementById('tblCustomers'), {
                onrendered: function (canvas) {
                    var data = canvas.toDataURL();
                    var docDefinition = {
                        content: [{
                            image: data,
                            width: 500
                        }]
                    };
                    pdfMake.createPdf(docDefinition).download("Users_report.pdf");
                }
            });
        }
    </script>

{% include 'footer.html' %}
{% endblock %}