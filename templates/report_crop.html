{% block content %} 
{% load static %} 
{% include 'header.html' %} 

<style>
    .table-view {
    width: 100%;
    margin: 20px;
}

.table-view table {
    width: 100%;
    border-collapse: collapse;
}

.table-view th, .table-view td {
    padding: 10px;
    text-align: left;
    border: 1px solid #ddd;
}

.table-view th {
    background-color: #f2f2f2;
}

.table-view tr:nth-child(even) {
    background-color: #f9f9f9;
}

.table-view tr:hover {
    background-color: #e5e5e5;
}

</style>
<div class="table-view">
    <div class="container">
    <h2>CROP PREDICTION DETAILS</h2>
    <table id="tblCustomers1">
        <thead>
            <tr>
                <th>Slno</th>
                <th>Nitrogen</th>
                <th>Potassium</th>
                <th>Phosphorus</th>
                <th>Temperature</th>
                <th>Humidity</th>
                <th>Ph</th>
                <th>Rainfall</th>
                <th>Crop Type</th>
            </tr>
        </thead>
        <tbody>
            {% for i in user %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ i.N }}</td>
                <td>{{ i.K }}</td>
                <td>{{ i.P }}</td>
                <td>{{ i.temperature }}</td>
                <td>{{ i.humidity }}</td>
                <td>{{ i.ph }}</td>
                <td>{{ i.rainfall }}</td>
                <td>{{ i.result }}</td>
            </tr>
            {% endfor%}
        </tbody>
        </table>
        <br>
        <input type="button" class="btn btn-secondary" id="btnExport" value="Report" onclick="Export()" />
    </center>
</div>
</div>




<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.22/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
    <script type="text/javascript">
        function Export() {
            html2canvas(document.getElementById('tblCustomers'), {
                onrendered: function (canvas) {
                    var data = canvas.toDataURL();
                    var docDefinition = {
                        content: [{
                            image: data,
                            width: 500
                        }]
                    };
                    pdfMake.createPdf(docDefinition).download("Crop_report.pdf");
                }
            });
        }
    </script>


{% include 'footer.html' %} 
{% endblock %}